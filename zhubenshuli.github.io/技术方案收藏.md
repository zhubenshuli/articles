## PHP技术方案收藏

### `php`+`Redis`，减少`Redis`的链接开销
1.通过`proxy`收敛连接数据：
`Twitter`开源的`twemproxy`，中文介绍：<http://blog.nosqlfan.com/html/4147.html>

2.`nginx`+`lua`：
逻辑上可以指定连接池的大小，连接中的连接是持久链接，建立后可以重用，当并发数超过连接池中的连接数，`lua`会创建短连接来支持。但我们线上出现过问题，在长时间运行后，连接数会超过连接池设置的大小且不释放，直接导致`Redis`连接数超标拒绝连接。